<!DOCTYPE html>
<html>
<head>
<meta charset="utf8" />
<title>How to obtain source code from GitHub?</title>
</head>
<body><a href="https://github.com/ArsenShnurkov/gentoo-mono-handbook"><img alt="Fork me on GitHub" id="forkme" src="images/forkme.png" align="right" width="100" /></a>

<table><tr><td valign="top">
<h1>How to obtain source code from GitHub?</h1>
</td><td valign="top">
<a href="index.htm">Gentoo Mono Handbook</a>
<br />
see also <a href="https://devmanual.gentoo.org/eclass-reference/git-2.eclass/index.html">git-2</a>,
<a href="https://devmanual.gentoo.org/eclass-reference/git-r3.eclass/index.html">git-r3</a>,
<a href="https://devmanual.gentoo.org/eclass-reference/vcs-snapshot.eclass/index.html">cvs-snapshot</a>
</td></tr></table>

 <h2>by sha1</h2>

<h3>Example</h3>
Code on github can be in the master branch
<pre><xmp>NAME="ProjectName"
HOMEPAGE="https://github.com/AccountName/${NAME}"

EGIT_COMMIT="061d8a27b13db5a76cae4757bb902b2808494a83"
SRC_URI="${HOMEPAGE}/archive/${EGIT_COMMIT}.zip -> ${P}.zip"
S="${WORKDIR}/${NAME}-${EGIT_COMMIT}" </xmp></pre>

or in the antoher branch
<br />
<pre><xmp>NAME="NLog"
HOMEPAGE="https://github.com/ArsenShnurkov/${NAME}"

EGIT_BRANCH="MONO_4_0"
EGIT_COMMIT="c3eb07ff89523154dc2385c7db0ba9437bff3362"
SRC_URI="${HOMEPAGE}/archive/${EGIT_BRANCH}/${EGIT_COMMIT}.zip -> ${PF}.zip"
S="${WORKDIR}/${NAME}-${EGIT_COMMIT}"</xmp></pre>


<h3>Specs</h3>
sha1 is described in <strong>RFC 3174</strong> (<a href="https://tools.ietf.org/html/rfc3174">https://tools.ietf.org/html/rfc3174</a>),
<br />
<br />
The usage of sha1 in git is described in <a href="https://illustrated-git.readthedocs.org/en/latest/">https://illustrated-git.readthedocs.org/en/latest/</a> with examples and .svg illustrations
<br />
Git References - <a href="https://git-scm.com/book/tr/v2/Git-Internals-Git-References">https://git-scm.com/book/tr/v2/Git-Internals-Git-References</a>
<br />
&nbsp;&nbsp;&nbsp;&nbsp;the files that contain the SHA-1 values in the .git/refs directory.
<br />
<br />
<a href="https://help.github.com/">https://help.github.com/</a>
<br />
<a href="https://developer.github.com/v3/repos/contents/#get-archive-link">https://developer.github.com/v3/repos/contents/#get-archive-link</a>
<br />
<img src="github/get-archive-link.png" alt="github/get-archive-link.png" />
<br />
In github web interface it looks like this: <font style="color:red">TODO</font>
<br />
<br />
Nodeload - <a href="https://github.com/blog/678-meet-nodeload-the-new-download-server">https://github.com/blog/678-meet-nodeload-the-new-download-server</a>
<br />
&nbsp;&nbsp;&nbsp;&nbsp;any time you download a tarball or zip file of any repository branch or tag, you're going through nodeload. 
<br />
<br />
looks like "ebuild ... digest" doesn't work with 302 redirect (<font style="color:red">need to be investigated deeper</font>)
<br />
<br />
<a href="http://stackoverflow.com/questions/8377081/github-api-download-zip-or-tarball-link">http://stackoverflow.com/questions/8377081/github-api-download-zip-or-tarball-link</a>

<h2>by tag</h2>
github provide links for packaged sources for each commit:
<br />
for example
<br />
https://github.com/deveel/deveel-math/archive/dmath-1.5.66.tar.gz
<br />
<br />
These links can be directly used in SRC_URI variale.
<br />
<br />
import versionator
<br />
# PR 	Package revision, or r0 if no revision exists.
<br />
NUSPEC_VERSION=$(get_version_component_range 1-3)"${PR//r/.}"

<h1>Other</h1>
<a href="http://webapps.stackexchange.com/questions/46113/how-to-see-list-of-issues-reported-by-me-on-github">http://webapps.stackexchange.com/questions/46113/how-to-see-list-of-issues-reported-by-me-on-github</a>
</body>
</html>
